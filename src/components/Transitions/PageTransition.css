/* Page Transition Styles - Mobile First */

.page-transition {
  width: 100%;
  height: 100%;
  transition-property: opacity, transform;
  transition-duration: var(--transition-duration, 300ms);
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity, transform;
}

/* Fade Transition */
.page-transition-fade.visible {
  opacity: 1;
  transform: translateZ(0);
}

.page-transition-fade.hidden {
  opacity: 0;
  transform: translateZ(0);
}

/* Slide Transition */
.page-transition-slide.visible {
  opacity: 1;
  transform: translateX(0) translateZ(0);
}

.page-transition-slide.hidden {
  opacity: 0;
  transform: translateX(20px) translateZ(0);
}

/* Scale Transition */
.page-transition-scale.visible {
  opacity: 1;
  transform: scale(1) translateZ(0);
}

.page-transition-scale.hidden {
  opacity: 0;
  transform: scale(0.95) translateZ(0);
}

/* Performance optimizations */
.page-transition {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .page-transition {
    transition-duration: 0ms !important;
  }

  .page-transition-slide.hidden {
    transform: translateX(0) translateZ(0);
  }

  .page-transition-scale.hidden {
    transform: scale(1) translateZ(0);
  }
}

/* High performance mode for older devices */
@media (max-width: 480px) and (max-height: 800px) {
  .page-transition-slide,
  .page-transition-scale {
    /* Fallback to fade on slower devices */
    transform: translateZ(0) !important;
  }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  .page-transition {
    /* Ensure proper rendering in dark mode */
    color-scheme: dark;
  }
}

/* Container for smooth transitions between different content */
.page-transition-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.page-transition-content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

/* Loading state during transitions */
.page-transition.loading {
  pointer-events: none;
  user-select: none;
  -webkit-user-select: none;
}

/* Smooth scroll behavior */
.page-transition-content {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  .page-transition-content {
    scroll-behavior: auto;
  }
}
